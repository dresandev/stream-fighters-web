---
import { mobileVersus } from "@/data/fighters"
import Carousel from "@/components/ui/carousel.astro"
import Slide from "@/components/ui/slide.astro"
import FighterSelectorCard from "@/components/fighter-selector-card.astro"
import Vs from "@/components/vs.astro"
---

<div class="fighter-selector-mobile">
  <Carousel>
    {
      mobileVersus.map(([fighter1Data, fighter2Data]) => (
        <Slide class="slide">
          <FighterSelectorCard class="fighter-selector-card" isMobile {...fighter1Data} />
          <Vs class="vs" />
          <FighterSelectorCard class="fighter-selector-card" isMobile {...fighter2Data} />
        </Slide>
      ))
    }
  </Carousel>
</div>

<style>
  .fighter-selector-mobile {
    margin-inline: calc(var(--app-padding) * -1);
    opacity: 0;
    animation: fade-in 250ms forwards 250ms;
  }

  .slide {
    display: flex;
    justify-content: center;
    align-items: center;
    column-gap: 16px;
  }

  .fighter-selector-card {
    inline-size: 120px;
  }

  .vs {
    position: absolute;
    inset-block: 0;
    z-index: 1;
    block-size: max-content;
    margin-block: auto;
  }

  @media screen and (min-width: 769px) {
    .fighter-selector-mobile {
      display: none;
    }
  }

  @keyframes fade-in {
    to {
      opacity: 1;
    }
  }
</style>
